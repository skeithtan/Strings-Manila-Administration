{"version":3,"sources":["../../../views/js/modals.js"],"names":["modalHide","$","click","onAddCollectionButtonClick","onRenameCollectionButtonClick","onDeleteCollectionButtonClick","on","val","attr","setUpAddProductModal","onAddSingularProductButtonClick","onAddTieredProductButtonClick","onModifySingularProductButtonClick","onModifyTieredProductButtonClick","onDeleteProductButtonClick","addProductModal","modifyProductModal","clearProductModal","onRestockButtonClick","show","hide","sendOrderModalToBack","restoreOrderModal","onAddBankAccountButtonClick","collectionName","post","url","baseURL","data","name","beforeSend","authorizeXHR","success","iziToast","title","message","refreshCollections","error","console","log","response","collectionNameInput","collectionID","ajax","method","id","fillOutRenameCollectionModal","activeCollection","fillOutDiscontinueCollectionModal","text","modal","find","each","index","input","textarea","tierRow","remove","clone","removeAttr","appendTo","deleteButton","recalculateValidator","inputs","item","off","addValidation","button","displayUploadingToast","info","timeout","hideUploadingToast","document","getElementById","submitAddProduct","product","image","submit","JSON","stringify","contentType","refreshProducts","responseText","uploadImage","link","submitModifyProduct","productID","form","FormData","append","uploadToastID","async","processData","warning","xhr","setRequestHeader","imageInput","files","description","tiers","price","length","tier","value","push","fillOutSingularProductModal","currentPrice","fillOutTieredProductModal","forEach","parseFloat","fillOutModifyProductModal","isSingular","fillOutAddProductModal","fillOutDiscontinueProductModal","tierID","quantity","isAdd","is","add","refreshStockInventory","fillOutRestockModal","productDescription","parent","css","fillOutOrderModal","orderID","orderStatusCodeToString","statusCode","fillOutCustomerDetails","order","profile","customer_name","phone","email","city","address","postal_code","fillOutModal","fetchDate","fillOutOrderDetails","fillOutOrderProducts","submitCancelOrder","refreshOrders","fetchOrder","submitMarkAsVerified","submitMarkAsShipped","storeNotes","trim","notes","dateString","date_ordered","format","generateReportButton","ipcRenderer","send","total_price","openDepositSliplink","noDepositSlipMessage","deposit_photo","openExternal","showOrderStatus","status","cancelOrderButton","confirmCancelButton","markAsVerifiedButton","paymentVerifiedMessage","markAsShippedButton","confirmMarkAsShippedButton","storeNotesRow","store_notes","appendLineItem","lineItem","lineItemTierName","is_singular","html","tier_name","line_items","orderStatus","addClass","get","fillOutSalesModal","collectionSales","sales","tableBody","template","product_sales","productSale","tier_sales","tierSale","bankName","accountHolder","accountNumber","bank_name","account_holder_name","account_number","refreshSettings","fillOutModifyBankAccountDetails","account","modifyButton","fillOutDeleteBankAccount","confirmDeleteButton","localStorage","token"],"mappings":"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","file":"modals.js","sourcesContent":["import randomString from './random';\nimport moment from 'moment';\nimport {shell} from 'electron';\nimport electron from 'electron';\n\nconst modalHide = 'hidden.bs.modal';\n\n$(() => {\n    //Entity Management\n    //Collections\n    $('#add-collection-button').click(onAddCollectionButtonClick);\n    $('#rename-collection-button').click(onRenameCollectionButtonClick);\n    $('#delete-collection-button').click(onDeleteCollectionButtonClick);\n    $('#add-collection-modal').on(modalHide, () => {\n        $('#add-collection-name-input').val('');\n        $('#add-collection-button').attr('disabled', 'true');\n    });\n\n    //Products\n    setUpAddProductModal();\n    $('#add-singular-product-button').click(onAddSingularProductButtonClick);\n    $('#add-tiered-product-button').click(onAddTieredProductButtonClick);\n    $('#modify-singular-product-button').click(onModifySingularProductButtonClick);\n    $('#modify-tiered-product-button').click(onModifyTieredProductButtonClick);\n    $('#delete-product-button').click(onDeleteProductButtonClick);\n\n    const addProductModal = $('#add-product-modal');\n    const modifyProductModal = $('#modify-product-modal');\n    addProductModal.on(modalHide, () => clearProductModal(addProductModal));\n    modifyProductModal.on(modalHide, () => clearProductModal(modifyProductModal));\n\n    //Restock\n    $('#restock-button').click(onRestockButtonClick);\n    //TODO: On hide\n\n    //Order Details\n    $('#order-modal').on(modalHide, () => {\n        $('#order-modal-loading').show();\n        $('#order-modal-information').hide();\n    });\n    $('#cancel-order-button').click(sendOrderModalToBack);\n    $('#cancel-order-modal').on(modalHide, restoreOrderModal);\n    $('#mark-as-shipped-button').click(sendOrderModalToBack);\n    $('#mark-as-shipped-modal').on(modalHide, () => {\n        restoreOrderModal();\n        $('#store-notes-input').val('');\n    });\n\n    //Bank Account\n    $('#add-bank-account-button').click(onAddBankAccountButtonClick);\n    $('#add-bank-account-modal').on(modalHide, () => {\n        $('#bank-name-input').val('');\n        $('#account-holder-name-input').val('');\n        $('#account-number-input').val('');\n    })\n});\n\n//MARK: - Collections\nfunction onAddCollectionButtonClick() {\n    const collectionName = $('#add-collection-name-input').val();\n\n    $.post({\n        url: baseURL + '/collections/',\n        data: {\n            name: collectionName\n        },\n        beforeSend: authorizeXHR,\n        success: () => {\n            iziToast.success({\n                title: \"Added\",\n                message: \"Successfully added collection.\"\n            });\n\n            refreshCollections();\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: \"Error\",\n                message: \"Unable to add collection.\"\n            })\n        },\n    });\n}\n\nfunction onRenameCollectionButtonClick() {\n    const collectionNameInput = $('#rename-collection-name-input');\n    const collectionName = collectionNameInput.val();\n    const collectionID = $('#rename-collection-id').val();\n    collectionNameInput.val('');\n\n    $.ajax({\n        url: `${baseURL}/collections/${collectionID}/`,\n        method: 'PUT',\n        data: {\n            name: collectionName\n        },\n        beforeSend: authorizeXHR,\n        success: () => {\n            iziToast.success({\n                title: 'Renamed',\n                message: 'Successfully renamed collection.'\n            });\n\n            refreshCollections();\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: 'Error',\n                id: 'uploading-image-toast',\n                message: 'Unable to rename collection.'\n            })\n        },\n    });\n}\n\nfunction onDeleteCollectionButtonClick() {\n    const collectionID = $('#delete-collection-id').val();\n    $.ajax({\n        url: `${baseURL}/collections/${collectionID}/`,\n        method: 'DELETE',\n        beforeSend: authorizeXHR,\n        success: () => {\n            iziToast.success({\n                title: 'Discontinued',\n                message: 'Collection is now discontinued.'\n            });\n            refreshCollections();\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: 'Error',\n                message: 'Unable to discontinue collection.'\n            })\n        },\n    })\n}\n\n//Fill outs\n\nfunction fillOutRenameCollectionModal(activeCollection) {\n    $('#rename-collection-id').val(activeCollection.id);\n    $('#rename-collection-name-input').val(activeCollection.name);\n    $('#rename-collection-button').attr('disabled', false); //Form is already filled out, do not disable submit button\n}\n\nfunction fillOutDiscontinueCollectionModal(activeCollection) {\n    $('#delete-collection-id').val(activeCollection.id);\n    $('span.delete-collection-name').text(activeCollection.name);\n}\n\n\n//MARK: - Products\nfunction clearProductModal(modal) {\n    modal.find('input').each((index, input) => {\n        $(input).val('');\n    });\n\n    modal.find('textarea').each((index, textarea) => {\n        $(textarea).val('');\n    });\n\n    modal.find('.extra-tier-row').each((index, tierRow) => {\n        $(tierRow).remove();\n    });\n\n    $('#add-singular-product-button').attr('disabled', true);\n    $('#add-tiered-product-button').attr('disabled', true);\n}\n\nfunction setUpAddProductModal() {\n    $('#add-tiered-product-card').hide();\n\n    $('#add-singular-product-tab').click(() => {\n        $('#add-tiered-product-card').hide();\n        $('#add-singular-product-card').show();\n    });\n\n    $('#add-tiered-product-tab').click(() => {\n        $('#add-singular-product-card').hide();\n        $('#add-tiered-product-card').show();\n    });\n\n    $('#add-tier-button').click(() => {\n        const clone = $('#tier-row-clone').clone();\n        clone.removeAttr('id');\n        clone.appendTo($('#tiers-set'));\n\n        $('#add-tiered-product-button').attr('disabled', true);\n\n        const deleteButton = $(clone.find('.tier-row-remove')[0]);\n        deleteButton.click(() => {\n            clone.remove();\n            recalculateValidator();\n        });\n\n        recalculateValidator();\n    });\n\n    function recalculateValidator() {\n        const inputs = $('#add-tiered-product-card').find('.text-input');\n\n        //Remove old validator\n        inputs.each((index, item) => {\n            $(item).off('input');\n        });\n\n        addValidation({\n            inputs: inputs,\n            button: $('#add-tiered-product-button')\n        });\n    }\n\n}\n\nfunction displayUploadingToast() {\n    const id = randomString();\n    iziToast.info({\n        title: 'Uploading image...',\n        id: id,\n        timeout: false\n    });\n\n    return id;\n}\n\nfunction hideUploadingToast(id) {\n    iziToast.hide({}, document.getElementById(id));\n}\n\nfunction submitAddProduct(product, collectionID, image) {\n    function submit(product) {\n        $.ajax({\n            url: `${baseURL}/collections/${collectionID}/products/`,\n            method: 'POST',\n            data: JSON.stringify(product),\n            contentType: 'application/json; charset=utf-8',\n            beforeSend: authorizeXHR,\n            success: () => {\n                iziToast.success({\n                    title: 'Added',\n                    message: 'Successfully added product'\n                });\n                refreshProducts();\n            },\n            error: response => {\n                console.log(response.responseText);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Unable to add product'\n                })\n            }\n        });\n    }\n\n    if (image !== null) {\n        uploadImage({\n            image: image,\n            success: response => {\n                product.image = response.data.link;\n                submit(product)\n            },\n            error: response => {\n                console.log(response);\n                submit(product);\n            }\n        })\n    } else {\n        submit(product);\n    }\n}\n\nfunction submitModifyProduct(product, productID, image) {\n    function submit(product) {\n        $.ajax({\n            url: `${baseURL}/products/${productID}/`,\n            method: 'PATCH',\n            data: JSON.stringify(product),\n            contentType: 'application/json; charset=utf-8',\n            beforeSend: authorizeXHR,\n            success: () => {\n                iziToast.success({\n                    title: 'Modified',\n                    message: 'Successfully modified product'\n                });\n                refreshProducts();\n            },\n            error: response => {\n                console.log(response.responseText);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Unable to modify product'\n                });\n            }\n        })\n    }\n\n    if (image !== null) {\n        uploadImage({\n            image: image,\n            success: response => {\n                product.image = response.data.link;\n                submit(product);\n            },\n            error: response => {\n                console.log(response);\n                submit(product);\n            }\n        })\n    } else {\n        submit(product)\n    }\n}\n\nfunction uploadImage(data) {\n    const image = data.image;\n    const form = new FormData();\n    form.append('image', image);\n\n    const uploadToastID = displayUploadingToast();\n    $.post({\n        url: 'https://api.imgur.com/3/image',\n        async: true,\n        data: form,\n        contentType: false,\n        processData: false,\n        success: response => {\n            hideUploadingToast(uploadToastID);\n            iziToast.success({\n                title: 'Uploaded',\n                message: 'Image has been uploaded.'\n            });\n            data.success(response);\n        },\n        error: response => {\n            hideUploadingToast(uploadToastID);\n            iziToast.warning({\n                title: 'Error',\n                message: 'Unable to upload photo. Using default photo instead.'\n            });\n            data.error(response);\n        },\n        beforeSend: xhr => {\n            xhr.setRequestHeader('Authorization', 'Client-ID 715b55f24db9cd2')\n        }\n    });\n\n}\n\nfunction onAddSingularProductButtonClick() {\n    const name = $('#add-singular-product-name-input').val();\n    const imageInput = $('#add-singular-product-image-input')[0].files;\n    const collectionID = $('#add-product-collection-id').val();\n\n    let product = {\n        name: name,\n        description: $('#add-singular-product-description-input').val(),\n        tiers: [{\n            name: name,\n            price: $('#add-singular-product-price-input').val(),\n        }]\n    };\n\n    if (imageInput.length) {\n        const image = imageInput[0];\n        submitAddProduct(product, collectionID, image);\n    } else {\n        submitAddProduct(product, collectionID, null);\n    }\n}\n\nfunction onAddTieredProductButtonClick() {\n    let product = {\n        name: $('#add-tiered-product-name-input').val(),\n        description: $('#add-tiered-product-description-input').val(),\n        tiers: []\n    };\n\n    const imageInput = $('#add-tiered-product-image-input')[0].files;\n    const collectionID = $('#add-product-collection-id').val();\n\n    $('#tiers-set').find('.tier-row').each((index, item) => {\n        const tierRow = $(item);\n        const tier = {\n            name: tierRow.find('.tier-name')[0].value,\n            price: tierRow.find('.tier-price')[0].value\n        };\n\n        product.tiers.push(tier);\n    });\n\n    if (imageInput.length) {\n        const image = imageInput[0];\n        submitAddProduct(product, collectionID, image);\n    } else {\n        submitAddProduct(product, collectionID, null);\n    }\n}\n\nfunction onModifySingularProductButtonClick() {\n    const imageInput = $('#modify-singular-product-image-input')[0].files;\n    const productID = $('#modify-product-id').val();\n    const name = $('#modify-singular-product-name-input').val();\n\n    let product = {\n        name: name,\n        description: $('#modify-singular-product-description-input').val(),\n        tiers: [{\n            id: $('#modify-singular-product-tier-id').val(),\n            name: name,\n            price: $('#modify-singular-product-price-input').val(),\n        }]\n    };\n\n    if (imageInput.length) {\n        const image = imageInput[0];\n        submitModifyProduct(product, productID, image);\n    } else {\n        submitModifyProduct(product, productID, null);\n    }\n}\n\nfunction onModifyTieredProductButtonClick() {\n    const imageInput = $('#modify-tiered-product-image-input')[0].files;\n    const productID = $('#modify-product-id').val();\n\n    let product = {\n        name: $('#modify-tiered-product-name-input').val(),\n        description: $('#modify-tiered-product-description-input').val(),\n        tiers: []\n    };\n\n    $('#modify-tiers-set').find('.modify-tier-row').each((index, item) => {\n        const tierRow = $(item);\n        const tier = {\n            id: tierRow.find('.tier-row-id')[0].value,\n            name: tierRow.find('.tier-name')[0].value,\n            price: tierRow.find('.tier-price')[0].value\n        };\n\n        product.tiers.push(tier);\n    });\n\n    if (imageInput.length) {\n        const image = imageInput[0];\n        submitModifyProduct(product, productID, image);\n    } else {\n        submitModifyProduct(product, productID, null);\n    }\n}\n\nfunction onDeleteProductButtonClick() {\n    const productID = $('#delete-product-id').val();\n    $.ajax({\n        url: `${baseURL}/products/${productID}/`,\n        method: 'DELETE',\n        beforeSend: authorizeXHR,\n        success: () => {\n            iziToast.success({\n                title: 'Discontinued',\n                message: 'Product is now discontinued.'\n            });\n            refreshProducts();\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: 'Error',\n                message: 'Unable to discontinue product.'\n            })\n        }\n    })\n}\n\n//Fill Outs\nfunction fillOutSingularProductModal(product) {\n    $('#modify-singular-product-body').show();\n    $('#modify-tiered-product-body').hide();\n\n    $('#modify-singular-product-tier-id').val(product.tiers[0].id);\n    $('#modify-singular-product-name-input').val(product.name);\n    $('#modify-singular-product-price-input').val(product.tiers[0].currentPrice);\n    $('#modify-singular-product-description-input').val(product.description);\n\n    $('#modify-singular-product-button').attr('disabled', false); //Form is filled out - no need to disable button\n}\n\nfunction fillOutTieredProductModal(product) {\n\n    function recalculateValidator() {\n        const inputs = $('#modify-tiered-product-body').find('.text-input');\n\n        //Remove old validator\n        inputs.each((index, item) => {\n            $(item).off('input');\n        });\n\n        addValidation({\n            inputs: inputs,\n            button: $('#modify-tiered-product-button')\n        });\n    }\n\n    $('#modify-singular-product-body').hide();\n    $('#modify-tiered-product-body').show();\n\n    $('#modify-tiered-product-name-input').val(product.name);\n    $('#modify-tiered-product-description-input').val(product.description);\n\n    $('#modify-tiers-set').text('');\n\n    product.tiers.forEach(tier => {\n        const clone = $('#modify-tier-row-clone').clone();\n        clone.removeAttr('id');\n\n        $(clone.find('.tier-row-id')[0]).val(tier.id);\n        $(clone.find('.tier-name')[0]).val(tier.name);\n        $(clone.find('.tier-price')[0]).val(parseFloat(tier.currentPrice));\n\n        $('#modify-tiers-set').append(clone);\n    });\n\n    recalculateValidator();\n}\n\nfunction fillOutModifyProductModal(product) {\n    $('#modify-product-id').val(product.id);\n    const isSingular = product.tiers.length === 1;\n\n    if (isSingular) {\n        fillOutSingularProductModal(product);\n    } else {\n        fillOutTieredProductModal(product);\n    }\n}\n\nfunction fillOutAddProductModal(activeCollection) {\n    $('#add-product-collection-id').val(activeCollection.id);\n}\n\nfunction fillOutDiscontinueProductModal(product) {\n    $('#delete-product-id').val(product.id);\n    $('span.delete-product-name').text(product.name);\n}\n\n\n//MARK: - Stock Inventory\nfunction onRestockButtonClick() {\n    const tierID = $('#restock-tier-id').val();\n    const quantity = $('#restock-quantity').val();\n    const isAdd = $('#restock-add').is(':checked');\n\n    $.ajax({\n        url: `${baseURL}/product-tiers/${tierID}/restock/`,\n        method: 'POST',\n        data: {\n            quantity: quantity,\n            add: isAdd\n        },\n        beforeSend: authorizeXHR,\n        success: () => {\n            iziToast.success({\n                title: 'Restocked',\n                message: 'Successfully restocked product'\n            });\n            refreshStockInventory();\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: 'Error',\n                message: 'Unable to restock product'\n            });\n        }\n    })\n}\n\nfunction fillOutRestockModal(tier) {\n    $('#restock-tier-id').val(tier.id);\n    $('#restock-modal-product-name').text(tier.productDescription.name);\n    $('#restock-modal-product-quantity').text(tier.quantity);\n\n    if (tier.productDescription.isSingular) {\n        $(\"#restock-modal-tier-row\").hide();\n    } else {\n        $(\"#restock-modal-tier-row\").show();\n        $(\"#restock-modal-tier-name\").text(tier.name);\n    }\n\n    if (tier.quantity === 0) {\n        $('#restock-button-group').hide();\n        $('#restock-dummy-button-group').show();\n        $('#restock-add').parent().button('toggle'); //Enable add\n    } else {\n        $('#restock-button-group').show();\n        $('#restock-dummy-button-group').hide();\n    }\n}\n\n\n//MARK: - Orders\n\nfunction sendOrderModalToBack() {\n    $('#order-modal').css('z-index', '1040');\n}\n\nfunction restoreOrderModal() {\n    // Show modal again, make scrollable\n    $('#order-modal').css({\n        \"z-index\": 1050,\n        \"overflow\": \"scroll\"\n    });\n}\n\nfunction fillOutOrderModal(orderID) {\n\n    function orderStatusCodeToString(statusCode) {\n        switch (statusCode) {\n            case 'U':\n                return 'Unpaid';\n            case 'V':\n                return 'Verifying Payment';\n            case 'P':\n                return 'Processing';\n            case 'S':\n                return 'Shipped';\n            case 'C':\n                return 'Cancelled';\n        }\n\n        return statusCode;\n    }\n\n    function fillOutCustomerDetails(order) {\n        $('#order-modal-customer-name').text(order.profile.customer_name);\n        $('#order-modal-customer-phone').text(order.profile.phone);\n        $('#order-modal-customer-email').text(order.profile.email);\n\n        $('#order-modal-customer-city').text(order.profile.city);\n        $('#order-modal-customer-address').text(order.profile.address);\n        $('#order-modal-customer-postal-code').text(order.profile.postal_code);\n    }\n\n    function fillOutModal(order) {\n        order.fetchDate = moment();\n\n        $('#order-modal-loading').hide();\n        $('#order-modal-information').show();\n\n        fillOutCustomerDetails(order);\n        fillOutOrderDetails(order);\n        fillOutOrderProducts(order);\n    }\n\n    function submitCancelOrder(orderID) {\n        $.post({\n            url: `${baseURL}/api/orders/${orderID}/cancel/`,\n            beforeSend: authorizeXHR,\n            success: () => {\n                iziToast.success({\n                    title: 'Cancelled',\n                    message: 'Order is now cancelled.'\n                });\n                refreshOrders();\n                fetchOrder();\n            },\n            error: response => {\n                console.log(response);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Unable to cancel order'\n                })\n            }\n        });\n    }\n\n    function submitMarkAsVerified(orderID) {\n        $.post({\n            url: `${baseURL}/api/orders/${orderID}/verify/`,\n            beforeSend: authorizeXHR,\n            success: () => {\n                iziToast.success({\n                    title: 'Verified',\n                    message: 'Order is now processing.'\n                });\n                refreshOrders();\n                fetchOrder();\n            },\n            error: response => {\n                console.log(response);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Unable to mark order as verified.'\n                })\n            }\n        });\n    }\n\n    function submitMarkAsShipped(orderID) {\n        let storeNotes = $('#store-notes-input').val().trim();\n        if (storeNotes.length === 0) {\n            storeNotes = null;\n        }\n\n        $.post({\n            url: `${baseURL}/api/orders/${orderID}/ship/`,\n            beforeSend: authorizeXHR,\n            data: {\n                notes: storeNotes\n            },\n            success: () => {\n                iziToast.success({\n                    title: 'Shipped',\n                    message: 'Order is now marked as shipped.'\n                });\n                refreshOrders();\n                fetchOrder();\n            },\n            error: response => {\n                console.log(response);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Unable to mark order as shipped.'\n                })\n            }\n        });\n    }\n\n    function fillOutOrderDetails(order) {\n        const dateString = moment(order.date_ordered).format('LLLL');\n\n        const generateReportButton = $('#generate-order-detail-report-button');\n        generateReportButton.show();\n        generateReportButton.off();\n        generateReportButton.click(() => {\n            const ipcRenderer = electron.ipcRenderer;\n            ipcRenderer.send('generate-order-detail-report', order);\n        });\n\n        $('#order-modal-order-id').text(order.id);\n        $('#order-modal-order-date').text(dateString);\n        $('#order-modal-order-total').text(\"â‚±\" + order.total_price);\n\n        //Deposit Slip\n        const openDepositSliplink = $('#open-deposit-slip-link');\n        const noDepositSlipMessage = $('#no-deposit-slip-message');\n\n        if (order.deposit_photo) {\n            noDepositSlipMessage.hide();\n            openDepositSliplink.show();\n\n            openDepositSliplink.off();\n            openDepositSliplink.text(order.deposit_photo);\n            openDepositSliplink.click(() => shell.openExternal(order.deposit_photo));\n        } else {\n            openDepositSliplink.hide();\n            noDepositSlipMessage.show();\n        }\n\n        //Order Status\n        showOrderStatus(order.status);\n\n        const status = order.status;\n        const cancelOrderButton = $('#cancel-order-button');\n        if (status === 'U' || status === 'V' || status === 'P') {\n            cancelOrderButton.show();\n\n            const confirmCancelButton = $('#confirm-cancel-order-button');\n            confirmCancelButton.off(); //Unbind everything\n            confirmCancelButton.click(() => {\n                $('.modal-backdrop').remove();\n                $('#order-modal').modal('hide');\n                submitCancelOrder(order.id)\n            });\n        } else {\n            cancelOrderButton.hide();\n        }\n\n        const markAsVerifiedButton = $('#mark-as-verified-button');\n        if (status === 'V') {\n            markAsVerifiedButton.show();\n            markAsVerifiedButton.off(); //Unbind\n            markAsVerifiedButton.click(() => {\n                submitMarkAsVerified(order.id);\n                $('#order-modal').hide();\n            });\n        } else {\n            markAsVerifiedButton.hide();\n        }\n\n        const paymentVerifiedMessage = $('#payment-verified-message');\n\n        if (status === 'S' || status === 'P') {\n            paymentVerifiedMessage.show();\n        } else {\n            paymentVerifiedMessage.hide();\n        }\n\n        const markAsShippedButton = $('#mark-as-shipped-button');\n        if (status === 'P') {\n            markAsShippedButton.show();\n\n            const confirmMarkAsShippedButton = $('#confirm-mark-as-shipped-button');\n            confirmMarkAsShippedButton.off(); //Unbind previous bindings\n            confirmMarkAsShippedButton.click(() => {\n                $('.modal-backdrop').remove();\n                submitMarkAsShipped(order.id);\n                $('#order-modal').hide();\n            })\n        } else {\n            markAsShippedButton.hide();\n        }\n\n        const storeNotesRow = $('#store-notes-row');\n        if (order.store_notes) {\n            storeNotesRow.show();\n            $('#store-notes').text(order.store_notes);\n        } else {\n            storeNotesRow.hide();\n        }\n    }\n\n    function fillOutOrderProducts(order) {\n        function appendLineItem(lineItem) {\n            const clone = $('#order-modal-line-item-clone').clone();\n            clone.removeAttr('id');\n\n            $(clone.find('#order-modal-product-name')[0])\n                .removeAttr('id')\n                .text(lineItem.product);\n\n            $(clone.find('#order-modal-quantity')[0])\n                .removeAttr('id')\n                .text(lineItem.quantity);\n\n            const lineItemTierName = $(clone.find('#order-modal-tier-name')[0]);\n            lineItemTierName.removeAttr('id');\n\n            if (lineItem.is_singular) {\n                lineItemTierName.html('<small class=\"text-muted\">N/A</small>');\n            } else {\n                lineItemTierName.text(lineItem.tier_name);\n            }\n\n            $('#order-modal-line-items').append(clone);\n        }\n\n        $('#order-modal-line-items').text('');\n        order.line_items.forEach(appendLineItem);\n    }\n\n    function showOrderStatus(status) {\n        const orderStatus = $('#order-modal-order-status');\n        orderStatus.removeAttr('class');\n\n        orderStatus.text(orderStatusCodeToString(status));\n        switch (status) {\n            case 'U':\n                return '';\n            case 'V':\n                orderStatus.addClass('text-warning');\n                return;\n            case 'P':\n                orderStatus.addClass('text-primary');\n                return;\n            case 'S':\n                orderStatus.addClass('text-success');\n                return;\n            case 'C':\n                orderStatus.addClass('text-danger');\n                return;\n        }\n    }\n\n    function fetchOrder() {\n        $.get({\n            url: `${baseURL}/api/orders/${orderID}/`,\n            beforeSend: authorizeXHR,\n            success: fillOutModal,\n            error: response => console.log(response)\n        });\n    }\n\n    $('#generate-order-detail-report-button').hide();\n    fetchOrder();\n}\n\n\n//MARK: - Sales\nfunction fillOutSalesModal(collectionSales) {\n    $('#sales-modal-collection-name').text(collectionSales.name);\n    $('#sales-modal-total-quantity').text(collectionSales.quantity);\n    $('#sales-modal-total-sales').text(\"â‚±\" + collectionSales.sales);\n\n    const tableBody = $('#sales-modal-table-body');\n    const template = $('#sales-row-template').clone();\n    tableBody.html('');\n    tableBody.append(template);\n\n\n    const generateReportButton = $('#generate-sales-detail-report-button');\n    generateReportButton.off();\n    generateReportButton.click(() => {\n        const ipcRenderer = electron.ipcRenderer;\n        ipcRenderer.send('generate-sales-detail-report', collectionSales);\n    });\n\n    collectionSales.product_sales.forEach(productSale => {\n        productSale.tier_sales.forEach(tierSale => {\n            const clone = $('#sales-row-template').clone();\n            clone.removeAttr('id');\n\n            $(clone.find('#sales-row-product')[0]).text(productSale.name);\n            $(clone.find('#sales-row-quantity')[0]).text(tierSale.quantity);\n            $(clone.find('#sales-row-sales')[0]).text(\"â‚±\" + tierSale.sales);\n\n            const isSingular = productSale.is_singular;\n\n            if (isSingular) {\n                $(clone.find('#sales-row-tier')[0]).html('<small class=\"text-muted\">N/A</small>');\n            } else {\n                $(clone.find('#sales-row-tier')[0]).text(tierSale.name);\n            }\n\n            tableBody.append(clone);\n        })\n    });\n}\n\n//MARK: - Settings\nfunction onAddBankAccountButtonClick() {\n    const bankName = $(\"#bank-name-input\").val();\n    const accountHolder = $(\"#account-holder-name-input\").val();\n    const accountNumber = $(\"#account-number-input\").val();\n\n    $.post({\n        url: `${baseURL}/api/settings/bank-accounts/`,\n        data: {\n            bank_name: bankName,\n            account_holder_name: accountHolder,\n            account_number: accountNumber,\n        },\n        beforeSend: authorizeXHR,\n        success: () => {\n            refreshSettings();\n            iziToast.success({\n                title: \"Added\",\n                message: \"Successfully added bank account.\"\n            })\n        },\n        error: response => {\n            console.log(response);\n            iziToast.error({\n                title: \"Error\",\n                message: \"Unable to add bank account.\"\n            });\n        }\n    });\n}\n\nfunction fillOutModifyBankAccountDetails(account) {\n    const bankName = $(\"#modify-bank-name-input\");\n    const accountHolder = $(\"#modify-account-holder-name-input\");\n    const accountNumber = $(\"#modify-account-number-input\");\n\n    bankName.val(account.bank_name);\n    accountHolder.val(account.account_holder_name);\n    accountNumber.val(account.account_number);\n\n    const modifyButton = $('#modify-bank-account-button');\n    modifyButton.off(); // Unbind previous bindings\n    modifyButton.attr(\"disabled\", false);\n    modifyButton.click(() => {\n        $.ajax({\n            url: `${baseURL}/api/settings/bank-accounts/${account.id}/`,\n            method: \"PUT\",\n            beforeSend: authorizeXHR,\n            data: {\n                bank_name: bankName.val(),\n                account_holder_name: accountHolder.val(),\n                account_number: accountNumber.val()\n            },\n            success: () => {\n                iziToast.success({\n                    title: \"Added\",\n                    message: \"Successfully modified bank account\"\n                });\n\n                refreshSettings();\n            },\n            error: response => {\n                console.log(response);\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Unable to modify bank account\"\n                })\n            }\n        })\n    });\n}\n\nfunction fillOutDeleteBankAccount(account) {\n    $(\"#remove-bank-account-modal-bank-name\").text(account.bank_name);\n    $(\"#remove-bank-account-modal-account-holder\").text(account.account_holder_name);\n    $(\"#remove-bank-account-modal-account-number\").text(account.account_number);\n\n    const confirmDeleteButton = $('#delete-bank-account-button');\n    confirmDeleteButton.off();\n    confirmDeleteButton.click(() => {\n        $.ajax({\n            url: `${baseURL}/api/settings/bank-accounts/${account.id}/`,\n            method: \"DELETE\",\n            beforeSend: authorizeXHR,\n            success: () => {\n                iziToast.success({\n                    title: \"Deleted\",\n                    message: \"Successfully deleted bank account\"\n                });\n\n                refreshSettings();\n            },\n            error: response => {\n                console.log(response);\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Unable to delete bank account\"\n                });\n            }\n        });\n    })\n}\n\n//MARK: - XHR Authorization\nfunction authorizeXHR(xhr) {\n    xhr.setRequestHeader(\"Authorization\", \"Token \" + localStorage.token)\n}\n\nexport {\n    fillOutTieredProductModal,\n    fillOutSingularProductModal,\n    fillOutRestockModal,\n    fillOutDiscontinueProductModal,\n    fillOutModifyProductModal,\n    fillOutAddProductModal,\n    fillOutDiscontinueCollectionModal,\n    fillOutRenameCollectionModal,\n    fillOutOrderModal,\n    fillOutSalesModal,\n    fillOutModifyBankAccountDetails,\n    fillOutDeleteBankAccount,\n    authorizeXHR\n}"]}