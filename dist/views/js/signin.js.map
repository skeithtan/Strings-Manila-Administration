{"version":3,"sources":["../../../views/js/signin.js"],"names":["token","serverURL","$","click","username","val","password","ajax","url","method","data","success","response","localStorage","window","location","text","console","log","error","responseJSON","undefined"],"mappings":";;AAAA,IAAIA,QAAQ,EAAZ;AACA,IAAMC,YAAY,wBAAlB;;AAEAC,EAAE,YAAM;AACJA,MAAE,iBAAF,EAAqBC,KAArB,CAA2B,YAAM;AAC7B,YAAMC,WAAWF,EAAE,iBAAF,EAAqBG,GAArB,EAAjB;AACA,YAAMC,WAAWJ,EAAE,iBAAF,EAAqBG,GAArB,EAAjB;;AAEAH,UAAEK,IAAF,CAAO;AACHC,iBAAKP,YAAY,gBADd;AAEHQ,oBAAQ,MAFL;AAGHC,kBAAM;AACF,4BAAYN,QADV;AAEF,4BAAYE;AAFV,aAHH;AAOHK,qBAAS,2BAAY;AACjB,oBAAIC,SAASZ,KAAb,EAAoB;AAChBA,4BAAQY,SAASZ,KAAjB;AACAa,iCAAab,KAAb,GAAqBA,KAArB;AACAc,2BAAOC,QAAP,GAAkB,yBAAlB;AACH,iBAJD,MAIO;AACHb,sBAAE,gBAAF,EAAoBc,IAApB,CAAyB,2BAAzB;AACAC,4BAAQC,GAAR,CAAYN,QAAZ;AACH;AACJ,aAhBE;AAiBHO,mBAAO,yBAAY;;AAEf,oBAAGP,SAASQ,YAAT,KAA0BC,SAA7B,EAAwC;AACpCnB,sBAAE,gBAAF,EAAoBc,IAApB,CAAyB,6BAAzB;AACH;;AAED,oBAAIJ,SAASQ,YAAT,CAAsBD,KAA1B,EAAiC;AAC7BjB,sBAAE,gBAAF,EAAoBc,IAApB,CAAyBJ,SAASQ,YAAT,CAAsBD,KAA/C;AACH;AACJ;AA1BE,SAAP;AA4BH,KAhCD;AAiCH,CAlCD","file":"signin.js","sourcesContent":["let token = \"\";\nconst serverURL = \"http://localhost:8000/\";\n\n$(() => {\n    $(\"#sign-in-button\").click(() => {\n        const username = $('#username-field').val();\n        const password = $('#password-field').val();\n\n        $.ajax({\n            url: serverURL + \"admin/sign-in/\",\n            method: \"POST\",\n            data: {\n                \"username\": username,\n                \"password\": password\n            },\n            success: response => {\n                if (response.token) {\n                    token = response.token;\n                    localStorage.token = token;\n                    window.location = '../templates/index.html';\n                } else {\n                    $('#error-message').text(\"An unknown error occured.\");\n                    console.log(response);\n                }\n            },\n            error: response => {\n\n                if(response.responseJSON === undefined) {\n                    $('#error-message').text(\"Not connected to the server\");\n                }\n\n                if (response.responseJSON.error) {\n                    $('#error-message').text(response.responseJSON.error)\n                }\n            }\n        });\n    });\n});\n"]}