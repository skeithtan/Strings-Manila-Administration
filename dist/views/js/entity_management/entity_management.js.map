{"version":3,"sources":["../../../../views/js/entity_management/entity_management.js"],"names":["fetchStalls","completionHandler","client","query","then","fetchProducts","stallID","EntityManagement","props","state","activeStall","stalls","products","setState","result","setActiveStall","bind","stall","id","productSet","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEAA;;AAGA;AACA,SAASA,WAAT,CAAqBC,iBAArB,EAAwC;AACpCC,WAAOC,KAAP,wFAOGC,IAPH,CAOQH,iBAPR;AAQH;;AAED,SAASI,aAAT,CAAuBC,OAAvB,EAAgCL,iBAAhC,EAAmD;AAC/CC,WAAOC,KAAP,8BAEaG,OAFb,iLAaGF,IAbH,CAaQH,iBAbR;AAcH;;AAED;;IACMM,gB;;;AACF,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA,wIACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,yBAAa,IADJ;AAETC,oBAAQ,IAFC;AAGTC,sBAAU;AAHD,SAAb;;AAMAZ,oBAAY,kBAAU;AAClB,kBAAKa,QAAL,CAAc;AACVF,wBAAQG,OAAOH;AADL,aAAd;AAGH,SAJD;;AAMA,cAAKI,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AAde;AAelB;;;;uCAEcC,K,EAAO;AAAA;;AAClBA,kBAAML,QAAN,GAAiB,IAAjB;;AAEA,iBAAKC,QAAL,CAAc;AACVH,6BAAaO;AADH,aAAd;;AAIAZ,0BAAcY,MAAMC,EAApB,EAAwB,kBAAU;AAC9B,oBAAIR,cAAc,OAAKD,KAAL,CAAWC,WAA7B;AACAA,4BAAYE,QAAZ,GAAuBE,OAAOG,KAAP,CAAaE,UAApC;;AAEA,uBAAKN,QAAL,CAAc;AACVH,iCAAaA;AADH,iBAAd;AAGH,aAPD;AAQH;;;iCAEQ;AACL,mBACI;AAAA;AAAA,kBAAK,IAAG,yBAAR;AACK,+BAAU,qDADf;AAEI,kEAAQ,QAAQ,KAAKD,KAAL,CAAWE,MAA3B;AACQ,iCAAa,KAAKF,KAAL,CAAWC,WADhC;AAEQ,oCAAgB,KAAKK,cAF7B,GAFJ;AAKI,oEAAU,aAAa,KAAKN,KAAL,CAAWC,WAAlC;AALJ,aADJ;AASH;;;;EA7C0B,gBAAMU,S;;kBAgDtBb,gB","file":"entity_management.js","sourcesContent":["import React from 'react';\nimport Stalls from './stalls';\nimport Products from './products';\n\nfetchStalls();\n\n\n//Fetch data\nfunction fetchStalls(completionHandler) {\n    client.query(`\n    {\n        stalls {\n            id\n            name\n        }\n    }\n    `).then(completionHandler);\n}\n\nfunction fetchProducts(stallID, completionHandler) {\n    client.query(`\n    {\n      stall(id:${stallID}){\n        productSet{\n          id\n          name\n          description\n          image\n          quantity\n          currentPrice\n        }\n      }\n    }\n    `).then(completionHandler)\n}\n\n//React\nclass EntityManagement extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeStall: null,\n            stalls: null,\n            products: null\n        };\n\n        fetchStalls(result => {\n            this.setState({\n                stalls: result.stalls\n            })\n        });\n\n        this.setActiveStall = this.setActiveStall.bind(this);\n    }\n\n    setActiveStall(stall) {\n        stall.products = null;\n\n        this.setState({\n            activeStall: stall\n        });\n\n        fetchProducts(stall.id, result => {\n            let activeStall = this.state.activeStall;\n            activeStall.products = result.stall.productSet;\n\n            this.setState({\n                activeStall: activeStall\n            })\n        });\n    }\n\n    render() {\n        return (\n            <div id=\"entity-management-frame\"\n                 className=\"container-fluid d-flex flex-row m-0 p-0 h-100 w-100\">\n                <Stalls stalls={this.state.stalls}\n                        activeStall={this.state.activeStall}\n                        setActiveStall={this.setActiveStall}/>\n                <Products activeStall={this.state.activeStall}/>\n            </div>\n        );\n    }\n}\n\nexport default EntityManagement"]}