{"version":3,"sources":["../../../../views/js/entity_management/products.js"],"names":["Products","props","activeStall","selectStallState","Component","fillOutRenameStallModal","$","val","id","name","attr","fillOutDeleteStallModal","fillOutAddProductModal","ProductListHeader","ProductList","products","loadingState","length","emptyState","productCards","map","product","ProductCard","image","description","currentPrice"],"mappings":"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","file":"products.js","sourcesContent":["import React from 'react'\n\nclass Products extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    static selectStallState() {\n        return (\n            <div className=\"container-fluid text-center bg-light h-100 d-flex flex-column justify-content-center align-items-center\">\n                <h4>Select a stall from the left to see its products</h4>\n            </div>\n        )\n    }\n\n    render() {\n        const activeStall = this.props.activeStall;\n\n        if (activeStall === null) {\n            return Products.selectStallState()\n        }\n\n        return (\n            <div id=\"products\"\n                 className=\"bg-white d-flex flex-column\">\n                <ProductListHeader activeStall={activeStall}/>\n                <ProductList activeStall={activeStall}/>\n            </div>\n        )\n    }\n}\n\nfunction fillOutRenameStallModal(activeStall) {\n    $('#rename-stall-id').val(activeStall.id);\n    $('#rename-stall-name-input').val(activeStall.name);\n    $('#rename-stall-button').attr('disabled', false); //Form is already filled out, do not disable submit button\n}\n\nfunction fillOutDeleteStallModal(activeStall) {\n    $('#delete-stall-id').val(activeStall.id);\n}\n\nfunction fillOutAddProductModal(activeStall) {\n    $('#add-product-stall-id').val(activeStall.id);\n}\n\nfunction ProductListHeader(props) {\n    return (\n        <div id=\"product-list-header\"\n             className=\"container-fluid d-flex flex-row p-3 pt-5 bg-light\">\n            <h4 className=\"mr-auto mb-auto mt-auto\">{props.activeStall.name}</h4>\n            <div>\n                <button className=\"btn btn-sm btn-outline-primary mr-1\"\n                        data-toggle=\"modal\"\n                        data-target=\"#add-product-modal\"\n                        onClick={() => {\n                            fillOutAddProductModal(props.activeStall)\n                        }}>Add product\n                </button>\n                <button className=\"btn btn-sm btn-outline-primary mr-1\"\n                        data-toggle=\"modal\"\n                        data-target=\"#rename-stall-modal\"\n                        onClick={() => {\n                            fillOutRenameStallModal(props.activeStall)\n                        }}>Rename stall\n                </button>\n                <button className=\"btn btn-sm btn-outline-danger\"\n                        data-toggle=\"modal\"\n                        data-target=\"#delete-stall-modal\"\n                        onClick={() => {\n                            fillOutDeleteStallModal(props.activeStall)\n                        }}>Delete stall\n                </button>\n            </div>\n        </div>\n    )\n}\n\nclass ProductList extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    static loadingState() {\n        return (\n            <div className=\"container d-flex flex-column justify-content-center align-items-center h-100\">\n                <h3>Loading...</h3>\n            </div>\n        )\n    }\n\n    static emptyState(activeStall) {\n        return (\n            <div className=\"container-fluid d-flex flex-column justify-content-center align-items-center h-100 bg-white\">\n                <h3>There are no products on this stall.</h3>\n                <p className=\"text-faded\">Products added to this stall will show up here.</p>\n                <button className=\"btn btn-outline-primary\"\n                        data-toggle=\"modal\"\n                        data-target=\"#add-product-modal\"\n                        onClick={() => {\n                            fillOutAddProductModal(activeStall)\n                        }}>Add a product\n                </button>\n            </div>\n        )\n    }\n\n    render() {\n        const products = this.props.activeStall.products;\n\n        if (products === null) {\n            return ProductList.loadingState();\n        }\n\n        if (products.length === 0) {\n            return ProductList.emptyState(this.props.activeStall);\n        }\n\n        const productCards = products.map(product => {\n            return <ProductCard product={product}\n                                key={product.id}/>\n        });\n\n        //TODO: Product cards\n        return (\n            <div id=\"product-list\"\n                 className=\"p-4 bg-light\">\n                <div className=\"card-deck\">\n                    {productCards}\n                </div>\n            </div>\n\n        )\n    }\n}\n\nfunction ProductCard(props) {\n    return (\n        <div className=\"card mb-3\">\n            <img className=\"card-img-top\"\n                 src={props.product.image}\n                 alt=\"Card image cap\"/>\n            <div className=\"card-body\">\n                <h4 className=\"card-title\">{props.product.name}</h4>\n                <p className=\"card-text\">{props.product.description}</p>\n            </div>\n            <ul className=\"list-group list-group-flush\">\n                <li className=\"list-group-item border-top-0\">\n                    <b className=\"pl-0 pr-5\">â‚±{props.product.currentPrice}</b>\n                </li>\n            </ul>\n            <div className=\"card-footer d-flex border-top-0 pl-4 pr-4\">\n                <button className=\"btn btn-outline-primary ml-auto w-50 mr-3\">Modify</button>\n                <button className=\"btn btn-outline-danger mr-auto w-50\">Delete</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Products;"]}