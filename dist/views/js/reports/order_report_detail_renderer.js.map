{"version":3,"sources":["../../../../views/js/reports/order_report_detail_renderer.js"],"names":["ipc","ipcRenderer","fillOutClass","className","text","each","index","object","on","event","order","fetchDate","_d","format","orderDate","date_ordered","id","total_price","statusString","status","profile","customer_name","phone","email","city","address","postal_code","rowTemplate","remove","line_items","forEach","clone","find","removeAttr","lineItem","product","quantity","lineItemTierName","is_singular","html","tier_name","append","statusCode"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,mBAASC,WAArB;;AAEA,SAASC,YAAT,CAAsBC,SAAtB,EAAiCC,IAAjC,EAAuC;AACnC,0BAAED,SAAF,EAAaE,IAAb,CAAkB,UAACC,KAAD,EAAQC,MAAR;AAAA,eAAmB,sBAAEA,MAAF,EAAUH,IAAV,CAAeA,IAAf,CAAnB;AAAA,KAAlB;AACH;;AAEDJ,IAAIQ,EAAJ,CAAO,SAAP,EAAkB,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAChC,QAAMC,YAAY,sBAAOD,MAAMC,SAAN,CAAgBC,EAAvB,EAA2BC,MAA3B,CAAkC,IAAlC,CAAlB;AACA,QAAMC,YAAY,sBAAOJ,MAAMK,YAAb,EAA2BF,MAA3B,CAAkC,IAAlC,CAAlB;;AAEA;AACAX,iBAAa,iBAAb,EAAgCS,SAAhC;AACAT,iBAAa,aAAb,EAA4BY,SAA5B;AACAZ,iBAAa,eAAb,EAA8BQ,MAAMM,EAApC;AACAd,iBAAa,cAAb,EAA6B,MAAMQ,MAAMO,WAAzC;AACAf,iBAAa,eAAb,EAA8BgB,aAAaR,MAAMS,MAAnB,CAA9B;;AAEA;AACAjB,iBAAa,gBAAb,EAA+BQ,MAAMU,OAAN,CAAcC,aAA7C;AACAnB,iBAAa,iBAAb,EAAgCQ,MAAMU,OAAN,CAAcE,KAA9C;AACApB,iBAAa,iBAAb,EAAgCQ,MAAMU,OAAN,CAAcG,KAA9C;AACArB,iBAAa,eAAb,EAA8BQ,MAAMU,OAAN,CAAcI,IAA5C;AACAtB,iBAAa,eAAb,EAA8BQ,MAAMU,OAAN,CAAcK,OAA5C;AACAvB,iBAAa,iBAAb,EAAgCQ,MAAMU,OAAN,CAAcM,WAA9C;;AAEA;AACA,QAAMC,cAAc,sBAAE,8BAAF,CAApB;AACAA,gBAAYC,MAAZ;;AAEAlB,UAAMmB,UAAN,CAAiBC,OAAjB,CAAyB,oBAAY;AACjC,YAAMC,QAAQJ,YAAYI,KAAZ,EAAd;AACA,8BAAEA,MAAMC,IAAN,CAAW,yBAAX,CAAF,EAAyCC,UAAzC,CAAoD,IAApD,EAA0D7B,IAA1D,CAA+D8B,SAASC,OAAxE;AACA,8BAAEJ,MAAMC,IAAN,CAAW,qBAAX,CAAF,EAAqCC,UAArC,CAAgD,IAAhD,EAAsD7B,IAAtD,CAA2D8B,SAASE,QAApE;;AAEA,YAAMC,mBAAmB,sBAAEN,MAAMC,IAAN,CAAW,iBAAX,EAA8B,CAA9B,CAAF,CAAzB;AACAK,yBAAiBJ,UAAjB,CAA4B,IAA5B;;AAEA,YAAIC,SAASI,WAAb,EAA0B;AACtBD,6BAAiBE,IAAjB,CAAsB,uCAAtB;AACH,SAFD,MAEO;AACHF,6BAAiBjC,IAAjB,CAAsB8B,SAASM,SAA/B;AACH;;AAED,8BAAE,4BAAF,EAAgCC,MAAhC,CAAuCV,KAAvC;AACH,KAfD;AAgBH,CAvCD;;AAyCA,SAASb,YAAT,CAAsBwB,UAAtB,EAAkC;AAC9B,YAAQA,UAAR;AACI,aAAK,GAAL;AACI,mBAAO,QAAP;AACJ,aAAK,GAAL;AACI,mBAAO,mBAAP;AACJ,aAAK,GAAL;AACI,mBAAO,YAAP;AACJ,aAAK,GAAL;AACI,mBAAO,SAAP;AACJ,aAAK,GAAL;AACI,mBAAO,WAAP;AACJ,aAAK,IAAL;AACI,mBAAO,MAAP;AAZR;;AAeA,WAAOA,UAAP;AACH","file":"order_report_detail_renderer.js","sourcesContent":["import electron from 'electron';\nimport moment from 'moment';\nimport $ from 'jquery';\n\nconst ipc = electron.ipcRenderer;\n\nfunction fillOutClass(className, text) {\n    $(className).each((index, object) => $(object).text(text));\n}\n\nipc.on('message', (event, order) => {\n    const fetchDate = moment(order.fetchDate._d).format('LL');\n    const orderDate = moment(order.date_ordered).format(\"LL\");\n\n    // Order details\n    fillOutClass('.date-generated', fetchDate);\n    fillOutClass('.order-date', orderDate);\n    fillOutClass('.order-number', order.id);\n    fillOutClass('.order-total', \"â‚±\" + order.total_price);\n    fillOutClass('.order-status', statusString(order.status));\n\n    //Customer details\n    fillOutClass('.customer-name', order.profile.customer_name);\n    fillOutClass('.customer-phone', order.profile.phone);\n    fillOutClass('.customer-email', order.profile.email);\n    fillOutClass('.address-city', order.profile.city);\n    fillOutClass('.full-address', order.profile.address);\n    fillOutClass('.address-postal', order.profile.postal_code);\n\n    //Products\n    const rowTemplate = $('#order-products-row-template');\n    rowTemplate.remove();\n\n    order.line_items.forEach(lineItem => {\n        const clone = rowTemplate.clone();\n        $(clone.find('#order-row-product-name')).removeAttr('id').text(lineItem.product);\n        $(clone.find('#order-row-quantity')).removeAttr('id').text(lineItem.quantity);\n\n        const lineItemTierName = $(clone.find('#order-row-tier')[0]);\n        lineItemTierName.removeAttr('id');\n\n        if (lineItem.is_singular) {\n            lineItemTierName.html('<small class=\"text-muted\">N/A</small>');\n        } else {\n            lineItemTierName.text(lineItem.tier_name);\n        }\n\n        $('#order-products-table-body').append(clone);\n    });\n});\n\nfunction statusString(statusCode) {\n    switch (statusCode) {\n        case 'U':\n            return 'Unpaid';\n        case 'V':\n            return 'Verifying Payment';\n        case 'P':\n            return 'Processing';\n        case 'S':\n            return 'Shipped';\n        case 'C':\n            return 'Cancelled';\n        case null:\n            return 'None';\n    }\n\n    return statusCode;\n}"]}